<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>    
    
		<template id="crear_establecimiento" name="Crear Establecimiento" page="True">
			<t t-call="website.layout">
				<div itemscope="itemscope" itemtype="http://schema.org/Product" id="wrap" class="js_sale">
					<div class="page-title">
			      		<div class="container">
							<div class="oe_structure"/>
						    <h1 t-if="est">Editar Establecimiento</h1>
						    <h1 t-if="not est">Nuevo Establecimiento</h1>
						</div>
				    </div>
				
					<section t-attf-class="container mt8" id="solicitud_link_container">
				         <div class="row" style="margin-bottom:2em;">
								<form method="POST" action="/_crear_editar_establecimiento" enctype="multipart/form-data">
									<input type="hidden" t-att-value="((est) and est.id) or ''" name="est_id" />
									<div class="col-xs-12 col-md-4">
									 	<div class="form-group">
										    <label for="name">Nombre Establecimiento</label>
										    <input type="text" class="form-control" t-att-value="((est) and est.name) or ''" id="name" name="name" placeholder="Nombre" required="required"/>
										</div>
									 	<div class="form-group">
										    <label for="type">Tipo</label>
				         					<select class="form-control" id="type" name="type" required="required">
				         						<option value="">Tipo...</option>
						         				<option value="bodega" t-att-selected="(est and est.tipo=='bodega') and 'selected'">Bodega</option>
						         				<option value="restaurante" t-att-selected="(est and est.tipo=='restaurante') and 'selected'">Restaurante</option>
						         				<option value="hospedaje" t-att-selected="(est and est.tipo=='hospedaje') and 'selected'">Hospedaje</option>
						         				<option value="arte y cultura" t-att-selected="(est and est.tipo=='arte y cultura') and 'selected'">Arte y Cultura</option>
						         				<option value="vinoteca" t-att-selected="(est and est.tipo=='vinoteca') and 'selected'">Vinoteca</option>
						         				<option value="viñedo" t-att-selected="(est and est.tipo=='vinhedo') and 'selected'">Viñedo</option>
						         				<option value="otro" t-att-selected="(est and est.tipo=='otro') and 'selected'">Otro</option>
						         			</select>
						         		</div>
									 	<div class="form-group">
										    <label for="image">Imágen</label>
										    <input id="image" type="file" name="image" accept="image/*" t-att-required="(not est) and 'required'" />
										</div>
										<div class="form-group">
										    <label>Servicios</label>
										    <div>
										    	<t t-foreach="services" t-as="service">
										    		<input type="checkbox" t-att-title="service.description" t-att-name="'service-%s' % (service.id)" t-att-value="service.id"/> <i t-attf-class="fa fa-{{service.icon}}"></i> <t t-esc="service.name"/><br/>
										    	</t>
										    </div>
										</div>
									</div>
									<div class="col-xs-12 col-md-4">
									 	<div class="form-group">
										    <label for="street">Dirección</label>
						         			<input id="street" name="street" t-att-value="partner.street if not est else est.partner_id.street" type="text" class="form-control" placeholder="Calle" required="required"/>
						         			<input id="city" name="city" t-att-value="partner.city if not est else est.partner_id.city" type="text" class="form-control" placeholder="Ciudad" required="required"/>
						                    <select name="province" class="form-control" required="required">
						                        <option value="">Provincia...</option>
						                        <t t-foreach="states or []" t-as="state">
						                            <option t-att-value="state.id" t-att-selected="'selected' if state.id == partner.state_id.id else ''"><t t-esc="state.name"/></option>
						                        </t>
						                    </select>
						         			<input id="postalcode" name="postalcode" t-att-value="partner.zip if not est else est.partner_id.zip" type="text" class="form-control" placeholder="C.P." required="required"/>
										</div>
										<div class="form-group">
										    <label for="url_trip">Teléfono</label>
											 <input type="text" id="phone" name="phone" t-att-value="partner.phone if not est else est.partner_id.phone" class="form-control" />
										</div>
									 	<div class="form-group">
										    <label for="url_trip">TripAdvisor URL</label>
							       			<div class="input-group">
											  <span class="input-group-addon" id="basic-addon1">http://</span>
											  <input type="text" id="url_trip" name="url_trip" t-att-value="((est) and est.tripadvisor_url) or ''" class="form-control" aria-describedby="basic-addon1"/>
											</div>
										</div>
									</div>
									<div class="col-xs-12 col-md-4">
									 	<div class="form-group">
										    <label for="desc">Descripción</label>
										    <textarea rows="12" id="desc" name="desc" class="form-control" required="required"><t t-esc="((est) and est.descripcion) or ''"/></textarea>
										</div>
									</div>
									<div class="col-xs-12 col-md-12 text-right">
										<button t-if="est" type="submit" class="btn btn-primary">Guardar Cambios</button>
									 	<button t-if="not est" type="submit" class="btn btn-primary">Crear Establecimiento</button>
									</div>
								</form>
							</div>
					</section>
				</div>
			</t>
		</template>
		
    </data>
</openerp>
